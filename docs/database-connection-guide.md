# データベース接続情報の確認方法

## DB_HOSTの確認方法

お使いのWordPressサイトがリモートホスティング環境にある場合、`localhost`ではなく、実際のMySQLサーバーのホスト名が必要です。

### 方法1: wp-config.phpから確認
1. FTPまたはファイルマネージャーでWordPressのルートディレクトリにアクセス
2. `wp-config.php`ファイルを開く
3. 以下の行を探す：
```php
define( 'DB_HOST', 'ここに実際のホスト名' );
```

### 方法2: ホスティングコントロールパネルから確認
1. エックスサーバーのサーバーパネルにログイン
2. 「MySQL設定」を開く
3. 「MySQLホスト名」を確認

### 一般的なホスティングサービスのDB_HOST例
- **エックスサーバー**: `mysql●●●.xserver.jp`（●●●は数字）
- **さくらインターネット**: `mysql●●●.db.sakura.ne.jp`
- **ロリポップ**: `mysql●●●.phy.lolipop.lan`
- **ConoHa WING**: `localhost`（SSHトンネル経由）

## .envファイルの修正

正しいDB_HOSTが判明したら、.envファイルを以下のように修正してください：

```
DB_HOST=mysql●●●.xserver.jp
```

## リモートアクセスの注意点

多くのホスティングサービスでは、セキュリティ上の理由から外部からのMySQL接続を制限しています。以下の方法で対処できます：

### 1. SSHトンネルを使用（推奨）
```bash
ssh -L 3306:localhost:3306 ユーザー名@サーバー名
```
その後、DB_HOST=localhostのまま接続

### 2. リモートアクセスを許可
ホスティングコントロールパネルから、接続元IPアドレスを許可リストに追加

### 3. phpMyAdminを使用
直接データベースにアクセスできない場合は、phpMyAdminから手動でSQLを実行

## トラブルシューティング

### エラー: Can't connect to MySQL server on 'localhost:3306' (61)
- DB_HOSTが正しくない
- リモートアクセスが許可されていない
- ファイアウォールでブロックされている

### 対処法
1. wp-config.phpから正しい接続情報を確認
2. ホスティングサービスのマニュアルを確認
3. サポートに問い合わせる