/**
 * Mobile Animation Fixes
 * 
 * モバイルで要素が確実に表示されるようにする修正
 * アニメーション関連の問題を高い詳細度で解決
 */

/* ==========================================================================
   モバイルでの表示保証（アニメーションが失敗しても表示される）
   ========================================================================== */

/* モバイル環境でのアニメーション要素の表示修正 */
@media (max-width: 768px) {
    /* コンテンツ要素の表示を保証 - body要素から詳細度を高める */
    body .hero-title,
    body .title-line-1,
    body .title-line-2,
    body .hero-description,
    body .hero-features,
    body .hero-trust,
    body .hero-content,
    body .hero-text-section,
    body .hero-cta-group,
    body .fade-in,
    body .fadeInUp,
    body .blog-article,
    body .value-item,
    body .article-content,
    body .section-title,
    body .page-title {
        opacity: 1;
        visibility: visible;
        transform: none;
        animation: none;
    }
    
    /* ヒーローセクション内の全要素を表示 */
    body .hero-modern *,
    body .hero-section *,
    body #page .hero-modern *,
    body #page .hero-section * {
        opacity: 1;
        visibility: visible;
    }
    
    /* aboutページの3つの調和セクション */
    body .hero-values,
    body .values-title,
    body .values-grid,
    body .value-circle,
    body .value-item,
    body #page .hero-values,
    body #page .values-grid {
        display: block;
        opacity: 1;
        visibility: visible;
        transform: none;
    }
    
    /* ナビゲーション関連の表示 */
    body .sub-menu.active,
    body #page .sub-menu.active {
        opacity: 1;
        visibility: visible;
    }
    
    /* カードとグリッドの表示 */
    body .blog-grid-modern,
    body .content-grid,
    body .service-card,
    body .work-card,
    body #content .blog-grid-modern,
    body #content .content-grid {
        opacity: 1;
        visibility: visible;
    }
    
    /* ボタンの表示 */
    body .btn,
    body .button,
    body .hero-btn-primary,
    body .hero-btn-secondary,
    body .nav-cta-button,
    body #page .btn,
    body #page .button {
        opacity: 1;
        visibility: visible;
        transform: none;
    }
    
    /* パーティクルとデコレーションを非表示（パフォーマンス向上） */
    body .particle,
    body .connection-lines,
    body .hero-decoration,
    body .floating-element,
    body .geometric-shape {
        display: none;
    }
    
    /* パララックス効果を無効化 */
    body .parallax-element,
    body .hero-bg-image,
    body .hero-gradient-bg {
        transform: none;
    }
    
    /* アニメーション時間を0に */
    body * {
        animation-delay: 0s;
        transition-delay: 0s;
    }
}

/* ==========================================================================
   アニメーション削減設定の対応
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
    /* アクセシビリティ設定でアニメーションを無効化 - この場合は!importantが適切 */
    * {
        animation: none !important;
        transition: none !important;
    }
}

/* ==========================================================================
   z-indexの修正（要素が隠れないように）
   ========================================================================== */

@media (max-width: 768px) {
    body .hero-content,
    body #page .hero-content {
        z-index: 10;
        position: relative;
    }
    
    body .hero-text-section,
    body .hero-cta-group,
    body #page .hero-text-section,
    body #page .hero-cta-group {
        z-index: 11;
        position: relative;
    }
    
    /* モバイルメニューのz-index - 最前面に表示する必要があるため高い値を維持 */
    body .mobile-menu {
        z-index: 9999;
    }
    
    body .mobile-menu-overlay {
        z-index: 9998;
    }
}

/* ==========================================================================
   高さとオーバーフローの修正
   ========================================================================== */

@media (max-width: 768px) {
    /* コンテナの高さを自動に */
    body .hero-modern,
    body .hero-section,
    body .about-hero,
    body #page .hero-modern,
    body #page .hero-section {
        min-height: auto;
        height: auto;
        overflow: visible;
    }
    
    /* コンテンツの表示を確保 */
    body .container,
    body #page .container {
        overflow: visible;
    }
    
    /* グリッドレイアウトの修正 */
    body .hero-content-inner,
    body #page .hero-content-inner {
        display: block;
    }
    
    body .values-grid,
    body #page .values-grid {
        display: block;
    }
    
    body .value-item {
        margin-bottom: 2rem;
    }
}

/* ==========================================================================
   フォントサイズと読みやすさの改善
   ========================================================================== */

@media (max-width: 768px) {
    /* タイトルのサイズ調整 */
    body .hero-title-modern,
    body .hero-title,
    body #page .hero-title-modern,
    body #page .hero-title {
        font-size: 2rem;
        line-height: 1.3;
    }
    
    /* 説明文の読みやすさ */
    body .hero-description,
    body #page .hero-description {
        font-size: 1rem;
        line-height: 1.6;
    }
    
    /* ボタンのタップしやすさ */
    body .hero-btn-primary,
    body .hero-btn-secondary,
    body .btn,
    body #page .btn {
        min-height: 48px;
        padding: 12px 24px;
    }
}

/* ==========================================================================
   デバッグ用（開発時のみ使用）
   ========================================================================== */

/* 
@media (max-width: 768px) {
    * {
        border: 1px solid red !important;
    }
}
*/